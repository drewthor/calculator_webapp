(window.webpackJsonpcalculator_webapp=window.webpackJsonpcalculator_webapp||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(4),c=n.n(u),l=(n(12),n(1)),o=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=Object(a.createContext)(),m={currentNumber:"",functionType:"",value:"",calculation:""},b=function(e,t){switch(t.type){case"clear":return s({},e,{functionType:"",currentNumber:"",value:"",calculation:""});case"negate":if(""!==e.currentNumber){var n=-1*Number.parseFloat(e.currentNumber),a=e.calculation.length-e.currentNumber.length;return s({},e,{currentNumber:n,calculation:e.calculation.slice(0,a)+n})}if(""!==e.value){var r=e.calculation.length-1;return s({},e,{value:-1*Number.parseFloat(e.value),calculation:e.calculation.slice(0,r)+"*-1"+e.functionType})}return e;case"addNumber":return s({},e,{currentNumber:e.currentNumber+t.currentNumber,calculation:e.calculation+t.currentNumber,value:""===e.functionType?"":e.value});case"clearCurrentNumber":return s({},e,{currentNumber:""});case"setFunctionType":return""===e.currentNumber&&""===e.value?e:e.calculation.length>0&&e.calculation.slice(-1)===e.functionType?s({},e,{functionType:t.functionType,calculation:e.calculation.slice(0,e.calculation.length-1)+t.functionType}):""!==e.currentNumber&&""===e.value?s({},e,{value:e.currentNumber,functionType:t.functionType,currentNumber:"",calculation:e.calculation+t.functionType}):""!==e.value?s({},e,{functionType:t.functionType,calculation:e.calculation+t.functionType}):e;case"equals":return u=e.calculation+"="+e.value,fetch("https://us-central1-calculatorwebapp-253804.cloudfunctions.net/CalculationsAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({calculation:u})}).catch(),s({},e,{functionType:"",calculation:e.value});case"setValue":return s({},e,{value:t.value,currentNumber:""});case"clearCalculation":return s({},e,{calculation:""});default:throw new Error}var u},f=function(e){var t=Object(a.useReducer)(b,m),n=Object(l.a)(t,2),u=n[0],c=n[1],o=function(){if(""!==u.currentNumber&&""!==u.functionType)switch(u.functionType){case"+":c({type:"setValue",value:Math.round(1e3*(Number.parseFloat(u.value)+Number.parseFloat(u.currentNumber)))/1e3});break;case"-":c({type:"setValue",value:Math.round(1e3*(Number.parseFloat(u.value)-Number.parseFloat(u.currentNumber)))/1e3});break;case"*":c({type:"setValue",value:Math.round(Number.parseFloat(u.value)*Number.parseFloat(u.currentNumber)*1e3)/1e3});break;case"/":c({type:"setValue",value:Math.round(Number.parseFloat(u.value)/Number.parseFloat(u.currentNumber)*1e3)/1e3})}else""!==u.currentNumber&&""===u.functionType&&c({type:"setValue",value:u.currentNumber})};return r.a.createElement(p.Provider,{value:{state:u,handleClearAll:function(){c({type:"clear"})},handleNegateNumber:function(){c({type:"negate"})},handleAddNumber:function(e){c({type:"addNumber",currentNumber:e})},handleSetFunctionType:function(e){""!==u.currentNumber&&""!==u.value&&o(),c({type:"setFunctionType",functionType:e})},handlePerformEquals:function(){o(),c({type:"equals"})}}},e.children)},v=function(){var e=Object(a.useContext)(p).state;return r.a.createElement("form",null,r.a.createElement("input",{type:"text",value:""===e.currentNumber?""===e.value?"0":e.value:e.currentNumber,readOnly:!0}))},y=function(e){var t=e.value,n=e.span,u=Object(a.useContext)(p).handleAddNumber;return r.a.createElement("input",{type:"button",className:"button numberButton span-".concat(n||1),value:t,onClick:function(){return u(t)},readOnly:!0})},N=function(e){var t=e.value,n=Object(a.useContext)(p).handleSetFunctionType;return r.a.createElement("input",{type:"button",className:"button functionButton",value:t,onClick:function(){return n(t)},readOnly:!0})},d=function(){var e=Object(a.useContext)(p).handleNegateNumber;return r.a.createElement("input",{type:"button",className:"button specialButton",value:"+/-",onClick:e,readOnly:!0})},E=function(e){var t=e.span,n=Object(a.useContext)(p).handleClearAll;return r.a.createElement("input",{type:"button",className:"button specialButton span-".concat(t||1),value:"C",onClick:n,readOnly:!0})},h=function(){var e=Object(a.useContext)(p).handlePerformEquals;return r.a.createElement("input",{type:"button",className:"button functionButton",value:"=",onClick:e,readOnly:!0})},O=n(2),j=n.n(O),T=n(6),C=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1];return Object(a.useEffect)((function(){var e=setInterval(Object(T.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-calculatorwebapp-253804.cloudfunctions.net/CalculationsAPI",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.Calculation}))}));case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)}))),500);return function(){return clearInterval(e)}}),[]),r.a.createElement("div",{className:"latestCalculations"},r.a.createElement("h3",null,"Latest Calculations"),r.a.createElement("ol",null,n.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))};var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Calculator"),r.a.createElement(f,null,r.a.createElement(v,null),r.a.createElement("form",{className:"calcGrid"},r.a.createElement(E,{span:"2"}),r.a.createElement(d,null),r.a.createElement(N,{value:"/"}),r.a.createElement(y,{value:7}),r.a.createElement(y,{value:8}),r.a.createElement(y,{value:9}),r.a.createElement(N,{value:"*"}),r.a.createElement(y,{value:4}),r.a.createElement(y,{value:5}),r.a.createElement(y,{value:6}),r.a.createElement(N,{value:"-"}),r.a.createElement(y,{value:1}),r.a.createElement(y,{value:2}),r.a.createElement(y,{value:3}),r.a.createElement(N,{value:"+"}),r.a.createElement(y,{value:0,span:"2"}),r.a.createElement(y,{value:"."}),r.a.createElement(h,null))),r.a.createElement(C,null))};c.a.render(r.a.createElement(w,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.4d53753f.chunk.js.map